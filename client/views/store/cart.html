<template name="cart">
    <medium>User: {{userIdentity currentUser._id}}</medium>
    <tab></tab>
    <medium>Store: {{ store.name}} </medium>
    <h2>Menu</h2>
    <ul>
        {{#each products}}
            {{> addToMyCart}}
        {{/each}}
    </ul>
    <h2>Cart</h2>
    <ul>
        {{#each carts}}
            {{> removeFromCart}}
        {{/each}}
    </ul>
    <h2>Total Price: ${{myTotal store._id currentUser._id}}</h2>
   {{> carryOrDelivery}}
   {{> stripe}}
</template>

<template name="addToMyCart">
    <button class="product">
        <span>{{name}}</span>
    </button>
</template>

<template name="removeFromCart">
    <button class="remove">
        <span>{{myItem}}</span>
    </button>
</template>

<template name="carryOrDelivery">
    <label>
        <input type="checkbox" class="deliver" checked>  Deliver My Order
    </label>
</template>

<template name="stripe">
<form action="" method="POST">
    <script
            src="https://checkout.stripe.com/checkout.js" class="stripe-button"
            data-key="pk_test_QJ5NmhD04z0bCi7xDpMU4zUL"
            data-amount="2000"
            data-name="Demo Site"
            data-description="2 widgets ($20.00)"
            data-image="/128x128.png">
    </script>
</form>

    <form action="" method="POST" id="payment-form">
        <span class="payment-errors"></span>

        <div class="form-row">
            <label>
                <span>Card Number</span>
                <input type="text" size="20" data-stripe="number"/>
            </label>
        </div>

        <div class="form-row">
            <label>
                <span>CVC</span>
                <input type="text" size="4" data-stripe="cvc"/>
            </label>
        </div>

        <div class="form-row">
            <label>
                <span>Expiration (MM/YYYY)</span>
                <input type="text" size="2" data-stripe="exp-month"/>
            </label>
            <span> / </span>
            <input type="text" size="4" data-stripe="exp-year"/>
        </div>

        <button type="submit">Submit Payment</button>
    </form>

    <script type="text/javascript" src="https://js.stripe.com/v2/"></script>

    <script type="text/javascript">
        // This identifies your website in the createToken call below
        Stripe.setPublishableKey('pk_test_QJ5NmhD04z0bCi7xDpMU4zUL');
        // ...
    </script>
        <head>
        <body>

            <form action="" method="POST" id="payment-form">
                <span class="payment-errors"></span>

                <div class="form-row">
                    <label>
                        <span>Card Number</span>
                        <input type="text" size="20" data-stripe="number"/>
                    </label>
                </div>

                <div class="form-row">
                    <label>
                        <span>CVC</span>
                        <input type="text" size="4" data-stripe="cvc"/>
                    </label>
                </div>

                <div class="form-row">
                    <label>
                        <span>Expiration (MM/YYYY)</span>
                        <input type="text" size="2" data-stripe="exp-month"/>
                    </label>
                    <span> / </span>
                    <input type="text" size="4" data-stripe="exp-year"/>
                </div>

                <button type="submit">Submit Payment</button>
            </form>
        </body>
    </head>

</template>
